
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Setting up the Twitter Helper with ASP.NET - Puncsky CS Notebook</title>
  <meta name="author" content="Tian">

  
  <meta name="description" content="Life and computer science notebook from Puncsky">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.puncsky.com/blog/2013/08/26/Twitter-Helper-in-ASPNET">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/bootstrap/bootstrap.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap/responsive.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/syntax/syntax.css" media="screen, projection" rel="stylesheet" type="text/css">
  <style type="text/css">
    body {
      padding-bottom: 40px;
    }
    h1 {
      margin-bottom: 15px;
    }
    img {
      max-width: 100%;
    }
    .sharing, .meta, .pager {
      margin: 20px 0px 20px 0px;
    }
    .page-footer p {
      text-align: center;
    }
  </style>
  <script src="/javascripts/libs/jquery.js"></script>
  <script src="/javascripts/libs/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/bootstrap.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="Puncsky CS Notebook" type="application/atom+xml">
  <!--
<link href="http://fonts.googleapis.com/css?family=Ubuntu:300,400,500,700,300italic,400italic,500italic,700italic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,500italic,700italic,300,400,500,700,800" rel="stylesheet" type="text/css">
-->

<link href="http://fonts.googleapis.com/css?family=Ubuntu" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=Open+Sans" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-43072488-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <nav role="navigation"><div class="navbar navbar-inverse">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>

      <a class="brand" href="/">Puncsky CS Notebook</a>

      <div class="nav-collapse">
        <ul class="nav">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>


        <ul class="nav pull-right" data-subscription="rss">
          <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
          
        </ul>

        
          <form class="pull-right navbar-search" action="http://google.com/search" method="get">
            <fieldset role="search">
              <input type="hidden" name="q" value="site:www.puncsky.com" />
              <input class="search-query" type="text" name="q" results="0" placeholder="Search"/>
            </fieldset>
          </form>
        
      </div>
    </div>
  </div>
</div>
</nav>
  <div class="container">
    <div class="row-fluid">
      
<article class="hentry span9" role="article">

  
  <header class="page-header">
    
      <h1 class="entry-title">Setting Up the Twitter Helper With ASP.NET</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-08-26T15:09:00-07:00" pubdate data-updated="true">Aug 26<span>th</span>, 2013</time>
        
      </p>
    
  </header>


<div class="entry-content"><p>It is a simple tutorial on how to create your own twitter helpers in ASP.NET website.</p>

<!-- more -->


<h2>Create Buttons with Helpers</h2>

<h3>1. Follow Button</h3>

<p>The <a href="https://dev.twitter.com/docs/follow-button">Twitter API: Follow Button</a> uses Javascript and data attributes to configure the button:</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/aspnet&quot;</span> <span class="na">class=</span><span class="s">&quot;twitter-follow-button&quot;</span> <span class="na">data-show-count=</span><span class="s">&quot;false&quot;</span><span class="nt">&gt;</span>Follow @aspnet<span class="nt">&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">&#39;http&#39;</span><span class="o">:</span><span class="s1">&#39;https&#39;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s1">&#39;://platform.twitter.com/widgets.js&#39;</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span> <span class="s1">&#39;script&#39;</span><span class="p">,</span> <span class="s1">&#39;twitter-wjs&#39;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will be displayed as</p>

<p><a href="https://twitter.com/aspnet" class="twitter-follow-button" data-show-count="false">Follow @aspnet</a></p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<p>We can create a new button with configurations provided by twitter directly at <a href="https://twitter.com/about/resources/buttons">twitter.com/about/resources/buttons</a>. On the other hand, to build our own reusable helper button in ASP.NET website, create <code>Twitter.cshtml</code> in the folder <code>App_Code\</code>, and add the following to <code>App_Code\Twitter.cshtml</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>@using System.Globalization
</span><span class='line'>
</span><span class='line'>@* For more about the twitter follow button, please visit https://dev.twitter.com/docs/follow-button *@
</span><span class='line'>@helper FollowButton(
</span><span class='line'>            string userName,
</span><span class='line'>            bool showCount = false,
</span><span class='line'>            bool showUserName = true,
</span><span class='line'>            bool largeButton = false,
</span><span class='line'>            bool optOutOfTailoring = false,
</span><span class='line'>            string language = &quot;&quot;,
</span><span class='line'>            bool alignLeft= true) {
</span><span class='line'>    HtmlString showCountAttribute = new HtmlString(showCount ? &quot;&quot; : &quot;data-show-count=\&quot;false\&quot;&quot;);
</span><span class='line'>    HtmlString showUserNameAttribute = new HtmlString(showUserName ? &quot;&quot; : &quot;data-show-screen-name=\&quot;false\&quot;&quot;);
</span><span class='line'>    HtmlString largeButtonAttribute = new HtmlString(largeButton ? &quot;data-size=\&quot;large\&quot;&quot; : &quot;&quot;);
</span><span class='line'>    HtmlString optOutOfTailoringAttribute = new HtmlString(optOutOfTailoring ? &quot;data-dnt=\&quot;true\&quot;&quot; : &quot;&quot;);
</span><span class='line'>    HtmlString languageAttribute = new HtmlString(!language.IsEmpty() <span class="err">&amp;&amp;</span> !language.Equals(&quot;en&quot;, StringComparison.OrdinalIgnoreCase) ? String.Format(CultureInfo.InvariantCulture, &quot; data-lang=\&quot;&quot; + HttpUtility.HtmlAttributeEncode(language) +&quot;\&quot;&quot;) : &quot;&quot;);
</span><span class='line'>    HtmlString alignAttribute = new HtmlString(alignLeft ? &quot;&quot; : &quot;data-align=\&quot;right\&quot;&quot;);
</span><span class='line'><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/@HttpUtility.UrlEncode(userName)&quot;</span> <span class="na">class=</span><span class="s">&quot;twitter-follow-button&quot;</span> <span class="err">@</span><span class="na">showCountAttribute</span> <span class="err">@</span><span class="na">showUserNameAttribute</span> <span class="err">@</span><span class="na">largeButtonAttribute</span> <span class="err">@</span><span class="na">optOutOfTailoringAttribute</span> <span class="err">@</span><span class="na">languageAttribute</span> <span class="err">@</span><span class="na">alignAttribute</span><span class="nt">&gt;</span>Follow @(&quot;@&quot; + userName)<span class="nt">&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">&#39;http&#39;</span><span class="o">:</span><span class="s1">&#39;https&#39;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s1">&#39;://platform.twitter.com/widgets.js&#39;</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span> <span class="s1">&#39;script&#39;</span><span class="p">,</span> <span class="s1">&#39;twitter-wjs&#39;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<p>After setting up the helper, it can be called in our page with <code>@Twitter.FollowButton()</code>. In our example, we should send at least one parameter specifying the <code>userName</code> we would like to follow. Assume we need a button following <a href="https://twitter.com/aspnet">The ASP.NET Team(@aspnet)</a>, showing the follower count, with a small size, in the language of spanish (<a href="http://en.wikipedia.org/wiki/List_of_ISO_639-1_codes">ISO-639-1 Language Code</a>):</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>@Twitter.FollowButton(userName: &quot;aspnet&quot;, showCount: true, largeButton: false, language: &quot;es&quot;)
</span></code></pre></td></tr></table></div></figure>


<p>It will be displayed as</p>

<p><a href="https://twitter.com/aspnet" class="twitter-follow-button" data-show-count="false" data-lang="es">Seguir a @aspnet</a></p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<h3>2. Tweet Button</h3>

<p>Similarly, we can both utilize the tool provided by <a href="https://twitter.com/about/resources/buttons#tweet">twitter.com/about/resources/buttons#tweet</a> and create our own helper.</p>

<p>In order to create our own helper, add the following to <code>App_Code\Twitter.cshtml</code>.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
<span class='line-number'>17</span>
<span class='line-number'>18</span>
<span class='line-number'>19</span>
<span class='line-number'>20</span>
<span class='line-number'>21</span>
<span class='line-number'>22</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>@* For more about the tweet button, please visit https://dev.twitter.com/docs/tweet-button *@
</span><span class='line'>@helper TweetButton(string url = &quot;&quot;,
</span><span class='line'>            string tweetText = &quot;&quot;,
</span><span class='line'>            bool showCount = true,
</span><span class='line'>            string via = &quot;&quot;,
</span><span class='line'>            string recommend = &quot;&quot;,
</span><span class='line'>            string hashtag = &quot;&quot;,
</span><span class='line'>            bool largeButton = false,
</span><span class='line'>            bool optOutOfTailoring = false,
</span><span class='line'>            string language = &quot;&quot;) {
</span><span class='line'>    HtmlString urlAttribute = new HtmlString(url.IsEmpty() ? &quot;&quot; : String.Format(CultureInfo.InvariantCulture, &quot; data-url=\&quot;&quot; + HttpUtility.HtmlAttributeEncode(url) + &quot;\&quot;&quot;));
</span><span class='line'>    HtmlString tweetTextAttribute = new HtmlString(tweetText.IsEmpty() ? &quot;&quot; : &quot;data-text=\&quot;&quot; + HttpUtility.HtmlAttributeEncode(tweetText) + &quot;\&quot;&quot;);
</span><span class='line'>    HtmlString showCountAttribute = new HtmlString(showCount ? &quot;&quot; : &quot;data-show-count=\&quot;false\&quot;&quot;);
</span><span class='line'>    HtmlString viaAttribute = new HtmlString(via.IsEmpty() ? &quot;&quot; : &quot;data-via=\&quot;&quot; + HttpUtility.HtmlAttributeEncode(via) + &quot;\&quot;&quot;);
</span><span class='line'>    HtmlString recommendAttribute = new HtmlString(recommend.IsEmpty() ? &quot;&quot; : &quot;data-related=\&quot;&quot; + HttpUtility.HtmlAttributeEncode(recommend) + &quot;\&quot;&quot;);
</span><span class='line'>    HtmlString hashtagAttribute = new HtmlString(hashtag.IsEmpty() ? &quot;&quot; : &quot;data-hashtags=\&quot;&quot; + HttpUtility.HtmlAttributeEncode(hashtag) + &quot;\&quot;&quot;);
</span><span class='line'>    HtmlString largeButtonAttribute = new HtmlString(largeButton ? &quot;data-size=\&quot;large\&quot;&quot; : &quot;&quot;);
</span><span class='line'>    HtmlString optOutOfTailoringAttribute = new HtmlString(optOutOfTailoring ? &quot;data-dnt=\&quot;true\&quot;&quot; : &quot;&quot;);
</span><span class='line'>    HtmlString languageAttribute = new HtmlString(!language.IsEmpty() <span class="err">&amp;&amp;</span> !language.Equals(&quot;en&quot;, StringComparison.OrdinalIgnoreCase) ? String.Format(CultureInfo.InvariantCulture, &quot; data-lang=\&quot;{0}\&quot;&quot;, HttpUtility.HtmlAttributeEncode(language)) : &quot;&quot;);
</span><span class='line'><span class="nt">&lt;a</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/share&quot;</span> <span class="na">class=</span><span class="s">&quot;twitter-share-button&quot;</span> <span class="err">@</span><span class="na">urlAttribute</span> <span class="err">@</span><span class="na">tweetTextAttribute</span> <span class="err">@</span><span class="na">showCountAttribute</span> <span class="err">@</span><span class="na">viaAttribute</span> <span class="err">@</span><span class="na">recommendAttribute</span> <span class="err">@</span><span class="na">hashtagAttribute</span> <span class="err">@</span><span class="na">largeButtonAttribute</span> <span class="err">@</span><span class="na">optOutOfTailoringAttribute</span> <span class="err">@</span><span class="na">languageAttribute</span><span class="nt">&gt;</span>Tweet<span class="nt">&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span> <span class="p">(</span><span class="nx">d</span><span class="p">,</span> <span class="nx">s</span><span class="p">,</span> <span class="nx">id</span><span class="p">)</span> <span class="p">{</span> <span class="kd">var</span> <span class="nx">js</span><span class="p">,</span> <span class="nx">fjs</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span> <span class="nx">p</span> <span class="o">=</span> <span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span> <span class="o">?</span> <span class="s1">&#39;http&#39;</span> <span class="o">:</span> <span class="s1">&#39;https&#39;</span><span class="p">;</span> <span class="k">if</span> <span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">))</span> <span class="p">{</span> <span class="nx">js</span> <span class="o">=</span> <span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span> <span class="nx">js</span><span class="p">.</span><span class="nx">id</span> <span class="o">=</span> <span class="nx">id</span><span class="p">;</span> <span class="nx">js</span><span class="p">.</span><span class="nx">src</span> <span class="o">=</span> <span class="nx">p</span> <span class="o">+</span> <span class="s1">&#39;://platform.twitter.com/widgets.js&#39;</span><span class="p">;</span> <span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span> <span class="nx">fjs</span><span class="p">);</span> <span class="p">}</span> <span class="p">}(</span><span class="nb">document</span><span class="p">,</span> <span class="s1">&#39;script&#39;</span><span class="p">,</span> <span class="s1">&#39;twitter-wjs&#39;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</span><span class='line'>}
</span></code></pre></td></tr></table></div></figure>


<p>Assume that we need a tweet button sharing the link to <code>http://www.asp.net/mvc</code>, with a large size and a hashtag <code>awesome</code>, and in the language of English.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>@Twitter.TweetButton(url: &quot;http://www.asp.net/mvc&quot;, largeButton: true, hashtag: &quot;awesome&quot;)
</span></code></pre></td></tr></table></div></figure>


<p>It will be displayed as</p>

<p><a href="https://twitter.com/share" class="twitter-share-button" data-url="http://www.asp.net/mvc" data-size="large" data-count="none" data-hashtags="awesome">Tweet</a></p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+'://platform.twitter.com/widgets.js';fjs.parentNode.insertBefore(js,fjs);}}(document, 'script', 'twitter-wjs');</script>


<h2>Create Registered Widgets</h2>

<p>In Twitter API v1.1, widgets, including profile, favorites, search and list, are migrated to <a href="https://dev.twitter.com/docs/embedded-timelines">Embedded Timelines</a>. The user should register the widgets at <a href="https://twitter.com/settings/widgets">twitter.com/settins/widgets</a>. Unauthenticated requests are not supported.</p>

<h3>1. User Timeline (Profile)</h3>

<p>Log in to twitter and go to  <a href="https://twitter.com/settings/widgets">twitter.com/settingts/widgets</a>. <a href="https://twitter.com/settings/widgets/new">Click <code>Create new</code></a>, set up our own configuration, and click <code>Create widget</code>. Finally, copy and paste the code into the page of our site.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;twitter-timeline&quot;</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/aspnet&quot;</span> <span class="na">data-widget-id=</span><span class="s">&quot;369912910400593920&quot;</span><span class="nt">&gt;</span>Tweets by @aspnet<span class="nt">&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">&#39;http&#39;</span><span class="o">:</span><span class="s1">&#39;https&#39;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s2">&quot;://platform.twitter.com/widgets.js&quot;</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span><span class="s2">&quot;script&quot;</span><span class="p">,</span><span class="s2">&quot;twitter-wjs&quot;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>The code above will be shown as</p>

<p><a class="twitter-timeline" href="https://twitter.com/aspnet" data-widget-id="369912910400593920">Tweets by @aspnet</a></p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>


<h3>2. Favorites</h3>

<p>Go to <a href="https://twitter.com/settings/widgets/new/favorites">twitter.com/settings/widgets/new/favorites</a>. Set up our own configuration. Click <code>Create widget</code>, copy and paste the code into the page of our site.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;twitter-timeline&quot;</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/aspnet/favorites&quot;</span> <span class="na">data-widget-id=</span><span class="s">&quot;369909963851714561&quot;</span><span class="nt">&gt;</span>Favorite Tweets by @aspnet<span class="nt">&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">&#39;http&#39;</span><span class="o">:</span><span class="s1">&#39;https&#39;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s2">&quot;://platform.twitter.com/widgets.js&quot;</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span><span class="s2">&quot;script&quot;</span><span class="p">,</span><span class="s2">&quot;twitter-wjs&quot;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will be displayed as:</p>

<p><a class="twitter-timeline" href="https://twitter.com/aspnet/favorites" data-widget-id="369909963851714561">Favorite Tweets by @aspnet</a></p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>


<h3>3. List</h3>

<p>Go to <a href="https://twitter.com/settings/widgets/new/list">twitter.com/settings/widgets/new/list</a>. Set up our own configuration. Click <code>Create widget</code>, copy and paste the code into the page of our website.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;twitter-timeline&quot;</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/puncsky/blog&quot;</span> <span class="na">data-widget-id=</span><span class="s">&quot;369913408134467584&quot;</span><span class="nt">&gt;</span>Tweets from @puncsky/blog<span class="nt">&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">&#39;http&#39;</span><span class="o">:</span><span class="s1">&#39;https&#39;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s2">&quot;://platform.twitter.com/widgets.js&quot;</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span><span class="s2">&quot;script&quot;</span><span class="p">,</span><span class="s2">&quot;twitter-wjs&quot;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will be like:</p>

<p><a class="twitter-timeline" href="https://twitter.com/puncsky/blog" data-widget-id="369913408134467584">Tweets from @puncsky/blog</a></p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>


<h3>4. Search</h3>

<p>Go to <a href="https://twitter.com/settings/widgets/new/search">twitter.com/settings/widgets/new/search</a>. Set up our own configuration. Click <code>Create widget</code>, copy and paste the code into the page of our website.</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="nt">&lt;a</span> <span class="na">class=</span><span class="s">&quot;twitter-timeline&quot;</span> <span class="na">href=</span><span class="s">&quot;https://twitter.com/search?q=%23asp.net&quot;</span> <span class="na">data-widget-id=</span><span class="s">&quot;369910441469689856&quot;</span><span class="nt">&gt;</span>Tweets about &quot;#asp.net&quot;<span class="nt">&lt;/a&gt;</span>
</span><span class='line'><span class="nt">&lt;script&gt;</span><span class="o">!</span><span class="kd">function</span><span class="p">(</span><span class="nx">d</span><span class="p">,</span><span class="nx">s</span><span class="p">,</span><span class="nx">id</span><span class="p">){</span><span class="kd">var</span> <span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="nx">s</span><span class="p">)[</span><span class="mi">0</span><span class="p">],</span><span class="nx">p</span><span class="o">=</span><span class="sr">/^http:/</span><span class="p">.</span><span class="nx">test</span><span class="p">(</span><span class="nx">d</span><span class="p">.</span><span class="nx">location</span><span class="p">)</span><span class="o">?</span><span class="s1">&#39;http&#39;</span><span class="o">:</span><span class="s1">&#39;https&#39;</span><span class="p">;</span><span class="k">if</span><span class="p">(</span><span class="o">!</span><span class="nx">d</span><span class="p">.</span><span class="nx">getElementById</span><span class="p">(</span><span class="nx">id</span><span class="p">)){</span><span class="nx">js</span><span class="o">=</span><span class="nx">d</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="nx">s</span><span class="p">);</span><span class="nx">js</span><span class="p">.</span><span class="nx">id</span><span class="o">=</span><span class="nx">id</span><span class="p">;</span><span class="nx">js</span><span class="p">.</span><span class="nx">src</span><span class="o">=</span><span class="nx">p</span><span class="o">+</span><span class="s2">&quot;://platform.twitter.com/widgets.js&quot;</span><span class="p">;</span><span class="nx">fjs</span><span class="p">.</span><span class="nx">parentNode</span><span class="p">.</span><span class="nx">insertBefore</span><span class="p">(</span><span class="nx">js</span><span class="p">,</span><span class="nx">fjs</span><span class="p">);}}(</span><span class="nb">document</span><span class="p">,</span><span class="s2">&quot;script&quot;</span><span class="p">,</span><span class="s2">&quot;twitter-wjs&quot;</span><span class="p">);</span><span class="nt">&lt;/script&gt;</span>
</span></code></pre></td></tr></table></div></figure>


<p>It will be displayed as:</p>

<p><a class="twitter-timeline" href="https://twitter.com/search?q=%23asp.net" data-widget-id="369910441469689856">Tweets about &#8220;#asp.net&#8221;</a></p>

<script>!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0],p=/^http:/.test(d.location)?'http':'https';if(!d.getElementById(id)){js=d.createElement(s);js.id=id;js.src=p+"://platform.twitter.com/widgets.js";fjs.parentNode.insertBefore(js,fjs);}}(document,"script","twitter-wjs");</script>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Tian</span></span>

      








  


<time datetime="2013-08-26T15:09:00-07:00" pubdate data-updated="true">Aug 26<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/asp-net/'>asp.net</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://www.puncsky.com/blog/2013/08/26/Twitter-Helper-in-ASPNET/" data-via="" data-counturl="http://www.puncsky.com/blog/2013/08/26/Twitter-Helper-in-ASPNET/" >Tweet</a>
  
  
  
</div>

    
    
    <ul class="pager">
      
      <li class="previous"><a class="basic-alignment left"
        href="/blog/2013/08/14/Essential-C%23-4.0/" title="Previous Post:
        Essential C# 4.0: Basics">&laquo; Essential C# 4.0: Basics</a></li>
      
      <li><a href="/blog/archives">Blog Archives</a></li>
      
    </ul>
  </footer>
</article>

<aside class="sidebar-nav span3">
  
    <section class="well">
  <script src="/javascripts/onmouseoverpuncsky.js" type="text/javascript"> </script>
  <img onmouseover="enlight(this)" onmouseout="darken(this)" src="/puncsky-gray.png" alt="puncsky" style="max-width:100%;">
  <h4>Puncsky</h4>
  <p><i>who strives on and lives to strive</i></p>
  <p><a href="https://www.github.com/puncsky/">Github</a></p>
</section>
<section class="well">
  <ul id="recent_posts" class="nav nav-list">
    <li class="nav-header">Recent Posts</li>
    
      <li class="post">
        <a href="/blog/2013/08/26/Twitter-Helper-in-ASPNET/">Setting up the Twitter Helper with ASP.NET</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/14/Essential-C%23-4.0/">Essential C# 4.0: Basics</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/11/%5B%3F%5D-ben-chu-chuang-gong-si-de-hui-yi-lu-%3C%3Cda-zao-facebook%3E%3E/">中国工程师在初创公司的经验总结--《打造Facebook》</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/01/2013nian-wu-yue-fen-yue-du-ji-lu/">2012年9月至2013年5月阅读记录</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/06/01/bo-lan-zhuang-kuo-de-gai-ge-kai-fa-shi-hua-%3C%3Cji-dang-san-shi-nian-%3E%3E-du-hou-gan/">波澜壮阔的改革开放史话——《激荡三十年》读后感</a>
      </li>
    
  </ul>
</section>
<section class="well">
	<div id="clustrmaps-widget"></div><script type="text/javascript">var _clustrmaps = {'url' : 'http://www.puncsky.com', 'user' : 1100959, 'server' : '2', 'id' : 'clustrmaps-widget', 'version' : 1, 'date' : '2013-06-24', 'lang' : 'en', 'corners' : 'square' };(function (){ var s = document.createElement('script'); s.type = 'text/javascript'; s.async = true; s.src = 'http://www2.clustrmaps.com/counter/map.js'; var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(s, x);})();</script><noscript><a href="http://www2.clustrmaps.com/user/92810cc9f"><img src="http://www2.clustrmaps.com/stats/maps-no_clusters/www.puncsky.com-thumb.jpg" alt="Locations of visitors to this page" /></a></noscript>
</section>






  
</aside>


    </div>
  </div>
  <footer role="contentinfo" class="page-footer"><hr>
<p>
  Copyright &copy; 2013 - Tian -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
