
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>CS Notebook</title>
  <meta name="author" content="Tian">

  
  <meta name="description" content="Life and computer science notebook from Puncsky">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://puncsky.github.com/blog/page/2">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/bootstrap/bootstrap.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/bootstrap/responsive.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/stylesheets/syntax/syntax.css" media="screen, projection" rel="stylesheet" type="text/css">
  <style type="text/css">
    body {
      padding-bottom: 40px;
    }
    h1 {
      margin-bottom: 15px;
    }
    img {
      max-width: 100%;
    }
    .sharing, .meta, .pager {
      margin: 20px 0px 20px 0px;
    }
    .page-footer p {
      text-align: center;
    }
  </style>
  <script src="/javascripts/libs/jquery.js"></script>
  <script src="/javascripts/libs/modernizr-2.0.js"></script>
  <script src="/javascripts/libs/bootstrap.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="/atom.xml" rel="alternate" title="CS Notebook" type="application/atom+xml">
  
  

</head>

<body   >
  <nav role="navigation"><div class="navbar navbar-inverse">
  <div class="navbar-inner">
    <div class="container">
      <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </a>

      <a class="brand" href="/">CS Notebook</a>

      <div class="nav-collapse">
        <ul class="nav">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
</ul>


        <ul class="nav pull-right" data-subscription="rss">
          <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
          
        </ul>

        
          <form class="pull-right navbar-search" action="http://google.com/search" method="get">
            <fieldset role="search">
              <input type="hidden" name="q" value="site:puncsky.github.com" />
              <input class="search-query" type="text" name="q" results="0" placeholder="Search"/>
            </fieldset>
          </form>
        
      </div>
    </div>
  </div>
</div>
</nav>
  <div class="container">
    <div class="row-fluid">
      <div class="span9">
  
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/12/19/oop1/">OOP Mid Term Notes</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-19T02:01:00-05:00" pubdate data-updated="true">Dec 19<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>Referencing composed and base objects. site:http://zoo.cs.yale.edu/classes/cs427/</p>

<h2>C++ Basics</h2>

<h3>1. Properties of C++</h3>

<ol>
<li><strong>Widely used</strong> in the real world.</li>
<li><strong>Close to the machine</strong> and capable of producing efficient code.</li>
<li>Gives a programmer <strong>fine control</strong> over the use of resources.</li>
<li><strong>OOP</strong>: Supports the object-oriented programming paradigm.</li>
<li><strong>Modularity</strong>: Supports modularity and component isolation.</li>
<li><strong>Correctness</strong>: Supports correctness through privacy, modularity, and use of exceptions.</li>
<li><strong>Reusable code</strong>: Supports reusabale code through derivation and templates.</li>
</ol>


<h3>2. C++ file types</h3>

<ol>
<li><em>Header files (.hpp)</em> contain various kinds of declarations needed by clients of a module. They must not contain definitions of non-inline functions.</li>
<li><em>Implementation files (.cpp)</em> contain definitions of non-inline functions and class methods and a few other kinds of things. Public declarations belong in the corresponding .hpp files.</li>
<li><em>Object files (.o)</em> contain the code generated by the compiler from one .cpp file.</li>
<li><strong>Static library files (.a)</strong> are archives (collections) of object files.</li>
<li><em>Executable files</em> commands ready to be run. File names have no extension. They must have the “execute” mode bit set.
is compiled to produce a corresponding .o file.</li>
<li>Linking: All of the .o files, together with needed code from library files, are combined to produce one executable file.</li>
</ol>


<h3>3. Stages of a program creation. Kinds of errors that can be discovered at each stage. Compilation and linking. What does each do? What files are needed? What files are produced?</h3>

<p>Two stages:</p>

<ul>
<li>Compilation: Each .cpp file
<em>For every symbol referenced in any of the .o files, a definition must be found in exactly one .o file or in a library.</em></li>
</ul>


<p>Compiler errors at each stage:</p>

<ul>
<li>Preprocessor errors: Missing #include files, mismatched #ifndf…#endif pairs, etc.</li>
<li>Compilation errors: Syntax, semantics, missing/erroneous declarations. Sometimes the file produced by the preprocessor and seen by the compiler is not what the programmer intended.</li>
<li>Linker errors are generally methods that were declared but never defined, often because of mismatched signatures. Duplicate definitions from different modules also detected here, e.g., multiple definitions of main().</li>
</ul>


<h3>4. Qualifiers: inline, const, static</h3>

<p>4.1. Static data members
- A static class variable must be declared and defined.
- A static class member is declared by preceding the member declaration by the qualifier static.
- A static class member is defined by having it appear in global context with an initializer but without static.
- Must be defined only once.</p>

<p>Example
In mypack.hpp file, inside class definition:</p>

<pre><code>    class MyPack {
        static int instances; // count # instantiations
</code></pre>

<p>In mypack.cpp file:</p>

<pre><code>    int MyPack::instances = 0;
</code></pre>

<p>4.2. Static function members</p>

<ul>
<li>As with static variables, the are declared inside class by prefixing static.</li>
<li>They may be defined either inside the class (as inline functions) or outside the class.</li>
<li>If defined outside the class, the :: prefix must be used and the word static omitted.</li>
</ul>


<p>4.3. const declares a variable (L-value) to be readonly.</p>

<p>If they are used at all, global variables should be const. It is not bad style to use a global const variable because you can do things with it that you cannot do with #define (initialize a constant object of a structured type).</p>

<p>Here are three different uses of the const qualifier in a pointer declaration:</p>

<pre><code>        int const* p; //a mutable pointer to a constant int
        int* const p; //a constant pointer to a mutable int
        int const* const r; //a constant pointer to a constant int
</code></pre>

<p>A little trick: if you read the declaration statement from right to left, it will be much easier to figure out its meaning. For example:</p>

<pre><code>        int const* p; //p is a pointer to a constant integer
        int* const p; //p is a constant pointer to an integer.
</code></pre>

<p>4.4. inline
- Methods <strong>defined</strong> inside a class are inline (e.g., getN()).
- Inline functions are recompiled for every call.
- Inline avoids function call overhead but results in larger code size.
- inline keyword makes following function definition inline.
- Inline functions must be defined in the header (.hpp) file. Why? To expand the code of an inline function at the point of call, the compiler must have access to the function definition. The function prototype is insufficient.</p>

<h3>5. C++ types: primitive (built-in) value types, class types, enum types, typedef, reference types, and pointer types.</h3>

<h2>Classes and objects</h2>

<h3>1. The roles of a class</h3>

<ul>
<li>A type from which objects (instances) can be formed. We say the instances belong to the class.</li>
<li>A collection of things that belong together; a struct with its associated functions.</li>
<li>A way to encapsulate behavior: a public interface with a private implementation.</li>
<li>A way to protect the integrity of data, providing the rest of the world with functions that provide a view of the data but no way to modify it.</li>
<li>A way to organize and automate allocation, initialization, and deallocation</li>
<li>A reusable module.</li>
<li>A way to break a complex problem down into manageable, semi-independent pieces, each with a defined
interface.</li>
<li>An entity that can collaborate with other classes to perform a task</li>
</ul>


<h3>2. Class elements and class structure. class visibility.</h3>

<p>2.1. Class elements</p>

<ul>
<li>A class contains declarations for data members and function members (or methods).</li>
<li>int n; declares a data member of type int.</li>
<li>int getN(){ return n; } is a complete member function definition.</li>
<li>void sortData(); declares a member function that must be defined elsewhere.</li>
<li>By convention, member names begin with lower case letters and are written in camelCase.</li>
</ul>


<p>2.2. Visibility</p>

<ul>
<li>The visibility of declared names can be controlled.</li>
<li>public: declares that following names are visible outside of the class.</li>
<li>private: restricts name visibility to this class.</li>
<li>Public names define the interface to the class.</li>
<li>Private names are for internal use, like local names in functions.</li>
</ul>


<h3>3. Differences between a class definition and a class implementation. Importance of a class interface.</h3>

<p>the public functions of a class are called the class interface.</p>

<h3>4. Constructing/destructing objects.</h3>

<h3>5. Different kinds and roles of constructors: ctors, copy constructors, default constructors.</h3>

<p>Whenever a class object is created, one of its constructors is called.
If not specified otherwise, the default constructor is called. This is <strong>the one that takes no arguments</strong>.
If you do not define the default constructor, then the null constructor (which does nothing) is used.
This applies not only to the “outer” object but also to all of its embedded objects.</p>

<p>5.1. Ctors</p>

<p>(short for constructor/initializors) allow one to supply parameters to implicitly-called constructors.</p>

<p>Example:</p>

<pre><code>    class B : A {  
        B( int n ) : A(n) {};  
        // Calls A constructor with argument n  
    };
</code></pre>

<p>5.2. Copy constructors</p>

<ul>
<li>A copy constructor is automatically defined for each new class A and has prototype A(const A&amp;). It initializes a newly created A object by making a shallow copy of its argument.</li>
<li>Copy constructors are used for call-by-value parameters.</li>
<li><strong>Assignment</strong> uses operator=(), which by default copies the data members but does not call the copy constructor.</li>
<li><p><em>The results of the implicitly-defined assignment and copy constructors are the same</em>, but they can be redefined to be different.</p></li>
<li><p>Initialization, assignment, copying of objects (and variables in general)</p></li>
</ul>


<p>Initialization ctors
Ctors also can be used to initialze primitive (non-class) variables.</p>

<p>Example:</p>

<pre><code>    class  B {  
        int x;  
        const int y;  
        B( int n ) : x(n), y(n+1) {}; // Initializes x and y  
    };
</code></pre>

<p>Multiple ctors are separated by commas.</p>

<p>Ctors present must be in the same order as the construction takes place – base class ctor first, then data member ctors in the same order as their declarations in the class.</p>

<p>Initialization not same as assignment</p>

<p>Previous example using ctors is not the same as writing</p>

<pre><code>    B( int n ) { y=n+1; x=n; };
</code></pre>

<p>The order of initialization differs.</p>

<p>const variables can be initialized but not assgined to.</p>

<p>Initialization uses the constructor (for class objects).</p>

<p>Initialization from another instance of the same type uses the copy constructor.</p>

<h2>I/O</h2>

<h3>1. streams: cin, cout, cerr, and clog</h3>

<ul>
<li>cin is the standard input stream.</li>
<li>cout is the standard output stream.</li>
<li>cerr is the standard output stream for errors.</li>
<li>clog is the standard output stream for logging.</li>
</ul>


<p>Standard output is called cout. Other predefined output streams are cerr and clog. They are usually initialized to standard output <strong>but can be redirected</strong>.</p>

<h3>2. Handling files.</h3>

<ul>
<li>ifstream fin ( &#8220;myfile.in&#8221; ); opens stream fin for reading. This implicitly invokes the constructor ifstream( &#8220;myfile.in&#8221; ).</li>
<li>ifstream fin; creates an input stream not associated with a file. fin.open( &#8220;myfile.in&#8221; ); attaches it to a file. Can also specify open modes.</li>
<li>To test if fin failed to open correctly, write if (!fin) {…}.</li>
<li>To close, use fin.close();.</li>
</ul>


<p>Can read a line into a buffer with fin.get(buf, buflen);. This function stops before the newline is read. To continue, one must move past the newline with a simple fin.get(ch); or fin.ignore();.</p>

<h3>3. <strong>Manipulators</strong>.</h3>

<p>Manipulators are objects that can be arguments of <em>>></em> or <em>&lt;&lt;</em> but do not necessarily produce data.</p>

<p>Example:</p>

<pre><code>    cout &lt;&lt; hex &lt;&lt; x &lt;&lt; y &lt;&lt; dec &lt;&lt; z &lt;&lt; endl;
</code></pre>

<p>Prints x and y in hex and z in decimal. After printing z, a newline is printed and the output stream is flushed. Manipulators are used in place of C formats to control input and output formatting and conversions.</p>

<h3>4. Kinds of I/O errors and ways to handle them.</h3>

<h3>5. Error flags, their meaning and how they are set.</h3>

<p>I/O functions set status flags after each I/O operation. <strong>bad</strong> means there was a read or write error on the file I/O. <strong>fail</strong> means the data was not appropriate to the field, e.g., trying to read a non-numeric character into a numeric variable. <strong>eof</strong> means that the end of file has been reached. <strong>good</strong> means that the above three bits are all off.</p>

<p>The whole state can be read with one call to rdstate().</p>

<pre><code>    // getting state of stream object
    #include &lt;iostream&gt;
    #include &lt;fstream&gt;
    using namespace std;

    int main () {
        ifstream is;
        is.open ("test.txt");
        if ( (is.rdstate() &amp; ifstream::failbit ) != 0 ) // if failbit flag is on
            cerr &lt;&lt; "Error opening 'test.txt'\n";
        return 0;
    }
</code></pre>

<p>Functions are also provided for testing useful combinations of status bits.</p>

<ul>
<li>good() returns true if the good bit is set.</li>
<li>bad() returns true if the bad bit is set. This is not the same as !good().</li>
<li>fail() returns true if the bad bit or the fail bit is set.</li>
<li>eof() returns true if the eof bit is set.</li>
</ul>


<p>As in C, correct end of file and error checking require paying close attention to detail of exactly when these state bits are turned on.</p>

<p>To continue after a bit has been set, must call <strong>clear()</strong> to clear it.</p>

<ol>
<li>Extending operators. What operators can be extend and how? Advantages of extending operators.</li>
</ol>


<p>Operators can be extended to work with new types, for example, complex numbers. +-*/</p>

<p>The built-in arithmetic operators in C and C++ are generic; they are defined for all built-in numeric types. One of the purposes of an object-oriented language is to enable the programmer to define new classes and use them in the same ways that the built-in classes are used. Combining these two facts, we see a need to extend the built-in generic operators to work on new classes. An operator extension implements a built-in function for a new type in such a way that the intention and character of the original operator are preserved.</p>

<pre><code>    inline  
    ostream&amp; operator&lt;&lt;(ostream&amp; out, const Square&amp; sq) {  
        return sq.print(out);  
    }
</code></pre>

<h2>Functions and methods</h2>

<h3>1. Passing data to a function. What are the different ways to pass data to a function? Advantages of each method.</h3>

<ul>
<li>Call by value: The argument values are copied into the parameter storage locations in the function&#8217;s stack frame. There is no way for the function to change values in main&#8217;s stack frame.</li>
<li>Call by pointer: The arguments must be addresses of integer variables in the caller&#8217;s stack frame. These
addresses are stored in the parameter locations in the function&#8217;s stack frame. They permit the function to
modify its caller&#8217;s memory locations.</li>
<li>Call by reference: The arguments must be integer variables in the caller&#8217;s stack frame. The addresses of
these variables are stored in the parameter locations in the function&#8217;s stack frame, permitting the function to modify its caller&#8217;s memory locations.</li>
</ul>


<p>TODO advantages</p>

<h3>2. Receiving data from a function. How data can be passed back from a function? Can more than one value be returned?</h3>

<ul>
<li>Return by value.</li>
<li>Return by pointer.</li>
<li>Return by const T *</li>
<li>Return by reference</li>
<li><p>Return by const T &amp;</p>

<pre><code>  int ret0( int* ar ) { return ar[0]; } // Returns an integer R-value.
  int* ret1( int* ar ) { return &amp;ar[1]; } // A pointer R-value.
  const int* ret2( int* ar ) { return &amp;ar[2]; } // A read-only pointer R-value.
  int&amp; ret3( int* ar ) { return ar[3]; } // An L-value (reference).
  const int&amp; ret4( int* ar ) { return ar[4]; } // A read-only L-value reference.
</code></pre></li>
</ul>


<h2>Pointers and references</h2>

<h3>1. L-values and R-values.</h3>

<p>Something that can appear on the left is called an L-value.
Something that can appear on the right is called an R-value.
Intuitively, an L-value is the <strong>address of a storage location</strong> – some place where a value can be stored.
An R-value is a thing that can be placed in a storage location.
R-values are sometimes called <strong>pure data values</strong>.</p>

<p>The declaration int x = 3; says several things:</p>

<ul>
<li>All values that can be stored in x have type int.</li>
<li>The name x is bound (when the code is executed) to a storage location adequate to store an int.</li>
<li>The int value 3 is initially placed in x’s storage location.</li>
</ul>


<p>The assignment statement x = 3; means the following:</p>

<ul>
<li>Get an L-value from the left hand side (x).</li>
<li>Get an R-value from the right hand side (3).</li>
<li>Put the R value from step 2 into the storage location whose address was obtained from step 1.</li>
</ul>


<p>Given int x = 3;  int y = 4; Consider x = y; This is processed as before, except what does it mean to get an R-value from y?</p>

<p><strong>Whenever an L-value is presented and an R-value is needed, automatic deferencing occurs.</strong></p>

<p>This means to go the storage location specified by the presented L-value (y) and get its R-value (4).</p>

<p>Then the assignment takes place as before.</p>

<h3>2. References vs. pointers</h3>

<p>A pointer [reference value] is a primitive object with an associated L-value.</p>

<p>TODO</p>

<h3>3. Relationship between a reference and a pointer.</h3>

<p>TODO</p>

<h2>Derivation</h2>

<h3>1. What is derivation?</h3>

<p>One class can be derived from another.</p>

<p>Syntax:</p>

<pre><code>    class A {  
    public:  
        int x;  
        ...  
    };  
    class B : public A {  
        int y;  
        ...  
    };
</code></pre>

<p>A is the base class; B is the derived class.</p>

<p>B inherits the members from A.</p>

<h3>2. When to use and when not to use class derivation.</h3>

<p>Use</p>

<ul>
<li>To allow a family of related classes to share common parts.</li>
<li>To describe abstract interfaces like Java.</li>
<li>To allow generic methods with run-time dispatching.</li>
<li>To provide a clean interface between existing, non-modifiable code and added user code.</li>
</ul>


<h3>3. Structure of an object</h3>

<p>Structure of an object A simple object is like a struct in C. It consists of a block of storage large enough to contain all of its data members. An object of a derived class contains an instance of the base class followed by the data members of the derived class.</p>

<p>Example:</p>

<pre><code>    class B : A { …};
    B bObj;
</code></pre>

<p>Then “inside” of bObj is an A-instance!</p>

<h3>4. Referencing composed and base objects.</h3>

<h4>4.1 Referencing a composed object</h4>

<p>Contrast the previous example to</p>

<pre><code>    class B { A aObj; …};
    B bObj;
</code></pre>

<p>Here B composes A.</p>

<p>The embedded A object can be referenced using data member name aObj, e.g., bObj.aObj.</p>

<h4>4.2 Referencing a base object</h4>

<pre><code>    class A { public: int x; int y; …};
    class B : A { int y; …};
    B bObj;
</code></pre>

<ul>
<li>The data members of A can be referenced directly by name.</li>
<li>x refers to data member x in class A.</li>
<li>y refers to data member y in class B.</li>
<li>A::y refers to data member y in class A.</li>
<li>this points to the whole object. Its type is B*. It can be coerced to type A*.</li>
</ul>


<h3>5. Construction/destruction rules.</h3>

<h4>5.1 Construction rules</h4>

<p>The rule for an object of a simple class is:</p>

<ol>
<li>Call the constructor/initializer for each data member object in sequence.</li>
<li>Call the constructor for the class.</li>
</ol>


<p>The rule for an object of a derived class is:</p>

<ol>
<li>Call the constructor for the base class recursively.</li>
<li>Call the constructor/initializer for each data member object of the derived class in sequence.</li>
<li>Call the constructor for the derived class.</li>
</ol>


<h4>5.2 Destruction rules</h4>

<p>When an object is deleted, the destructors are called in the opposite order.</p>

<p>The rule for an object of a derived class is:</p>

<ol>
<li>Call the destructor for the dervied class.</li>
<li>Call the destructor for each data member object of the derived class in reverse sequence.</li>
<li>Call the destructor for the base class.</li>
</ol>


<h2>Error</h2>

<h3>1. Five kinds of failures. When different errors can occur?</h3>

<ul>
<li><strong>Memory leak</strong>—Dynamic storage that is no longer accessible but has not been deallocated.</li>
<li><strong>Amnesia</strong>—Storage values that mysteriously disapper.</li>
<li><strong>Bus error</strong>—Program crashes because of an attempt to access non-existant memory.</li>
<li><strong>Segmentation fault</strong>—Program crashes because of an attempt to access memory not allocated to your process.</li>
<li><strong>Waiting for eternity</strong>—Program is in a <em>permanent wait state</em> or an infinite loop.</li>
</ul>


<h3>2. Memory leaks – what they are, how they arise, how they can be detected and design patterns for avoiding them.</h3>

<h3>3. Memory management paradigms.</h3>

<h2>C++ Standard Library </h2>

<h3>1. What is the C++ Standard Library and how can it be used?</h3>

<h3>2. Two classes: stringstream and vector</h3>

<p>stringstream – permits I/O to an in-memory string-like object.</p>

<p>vector<T> – creates a growable array of objects of type T, where T can be any type.</p>

<h4>Class stringstream</h4>

<p>A stringstream object (in the default case) acts like an ostream object.</p>

<p>It can be used just like you would use cout.</p>

<p>The characters go into an internal buffer rather than to a file or device.</p>

<p>The buffer can be retrieved as a string using the str() member function.</p>

<p>stringstream example</p>

<p>Example: Creating a label from an integer.</p>

<pre><code>    #include &lt;sstream&gt;  
    ...  
    int examScore=94;  
    stringstream ss;  
    string label;  
    ss &lt;&lt; "Score=" &lt;&lt; examScore;  
    label = ss.str();  
    cout &lt;&lt; label &lt;&lt; endl;
    This prints Score=94.
</code></pre>

<h4>vector</h4>

<p><em>vector<T> myvec</em> is something like the C array T myvec[].</p>

<p>The element type T can be any primitive, object, or pointer type.</p>

<p>One big difference is that a vector starts empty (in the default case) and it grows as elements are appended to the end.</p>

<p>Useful functions:</p>

<ul>
<li>myvec.push_back( item ) appends item to the end.</li>
<li>myvec.size() returns the number of objects in myvec</li>
<li>myvec[k] returns the object in myvec with index k (assuming it exists.) Indices run from 0 to size()-1.
Other operations on vectors</li>
<li>Other operations include creating an empty vector, inserting, deleting, and copying elements, scanning through the vector, and so forth.</li>
<li>Liberal use is made of operator definitions to make vectors behave as much like other C++ objects as possible.</li>
<li>Vectors implement value semantics, meaning type T objects are copied freely within the vectors.</li>
<li>If copying is a problem, store pointers instead.
vector examples</li>
</ul>


<p>You must</p>

<pre><code>    #include &lt;vector&gt;.
</code></pre>

<p>Elements can be accessed using standard subscript notion.</p>

<p>Inserting at the beginning or middle of a vector takes time O(n).</p>

<p>Example:</p>

<pre><code>    vector&lt;int&gt; tbl(10);  // creates length 10 vector of int  
    tbl[5] = 7;           // stores 7 in slot #5  
    cout &lt;&lt; tbl[5];       // prints 7  
    tbl[10] = 4;          // illegal, but not checked!!!  
    cout &lt;&lt; tbl.at(5);    // prints 7  
    tbl.at(10) = 4;       // illegal and throws an exception  
    tbl.push_back(4);     // creates tbl[10] and stores 4  
    cout &lt;&lt; tbl.at(10);   // prints 4
</code></pre>

<h2>Class dependencies</h2>

<ol>
<li>Tightly coupled classes.</li>
</ol>


<p>Class B depends on class A if B refers to elements declared within class A or to A itself.</p>

<p>A pair of classes A and B are <strong>tightly coupled</strong> if each depends on the other.</p>

<ol>
<li>Circular dependencies.</li>
</ol>


<p>File list.hpp:</p>

<pre><code>        #pragma once  
        #include "cell.hpp"  
        class List { ... };
        File cell.hpp:

        #pragma once  
        #include "list.hpp"  
        class Cell { ... };
        File main.cpp:

        #include "list.hpp"  
        #include "cell.hpp"  
        int main() { ... }
</code></pre>

<p>Resolving circular dependencies</p>

<ul>
<li>Suppose the only reference to B in A is to declare a pointer. Then it works to put a <strong>“forward” declaration</strong> of B at the top of A.hpp, for example:

<pre><code>  class B;
  class A { B* bp; ... };
</code></pre></li>
<li>If a function defined in A references symbols of B, then the definition of the function must be moved outside the class and placed where it will be read after B has been read in, e.g., in the A.cpp file.</li>
<li>If the function needs to be inline, this is still possible, but it’s much trickier getting the inline function definition in the right place.</li>
</ul>


<h2>Visualization</h2>

<ol>
<li>Unified Modeling Language (UML)</li>
</ol>


<p>TODO</p>

<ol>
<li><p>Elementary design principles.</p></li>
<li><p>Privacy</p></li>
<li>Expert</li>
<li>Creation</li>
<li>Deletion</li>
<li>Consistency</li>
<li>Delegation</li>
<li>Don&#8217;t talk to strangers</li>
<li>Responsibility</li>
</ol>

</div>
  
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/12/13/fast-crash-recovery-in-ramcloud/">Fast Crash Recovery in RAMCloud (SOSP&#8217;11)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-13T12:22:00-05:00" pubdate data-updated="true">Dec 13<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.stanford.edu/~ouster/cgi-bin/home.php">Stanford</a>, <a href="http://www.stanford.edu/~ouster/cgi-bin/papers/ramcloud-recovery.pdf">paper</a>, <a href="https://ramcloud.stanford.edu/wiki/display/ramcloud/RAMCloud+Presentations">slides</a>, <a href="http://www.youtube.com/watch?v=RE3CmdEGv4M">video</a></p>

<h3>1. Problem</h3>

<p>RAMCloud is a storage system helping developers manage large-scale DRAM storage, driven by the fact that large-scale Web applications need to cache large data in DRAM. (For example, Facebook cached 150TB DRAM in <em>memcached</em> out of 200TB of disk storage.)</p>

<p>In order to keep a high level of durability and availability without impacting system performance, RAMCloud has only one single copy of data in DRAM. The problem here is how to recover from crash within 1s~2s.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/12/13/fast-crash-recovery-in-ramcloud/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/12/06/cleanos/">CleanOS: Limiting Mobile Data Exposure With Idle Eviction (OSDI&#8217;12)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-06T06:40:00-05:00" pubdate data-updated="true">Dec 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://systems.cs.columbia.edu/projects/cleanos/">Columbia University</a>, <a href="https://www.usenix.org/system/files/conference/osdi12/osdi12-final-203.pdf">paper</a> <a href="https://www.usenix.org/sites/default/files/conference/protected-files/tang_osdi12_slides.pdf">slides</a>, <a href="https://www.usenix.org/conference/osdi12/cleanos-increasing-mobile-data-control-cloud-based-eviction">video</a></p>

<h3>1. Problem</h3>

<p>How to protect sensitive data in mobile phones? Mobile devices are extremely prone to be stolen or lost.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/12/06/cleanos/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/12/06/chord/">Chord: A Scalable Peer-to-peer Lookup Service for Internet Applications</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-06T06:29:00-05:00" pubdate data-updated="true">Dec 6<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://pdos.lcs.mit.edu/chord/">MIT PDOS</a>, <a href="http://pdos.csail.mit.edu/papers/chord:sigcomm01/chord_sigcomm.pdf">paper</a>, <a href="http://www.google.com/url?sa=t&amp;rct=j&amp;q=&amp;esrc=s&amp;source=web&amp;cd=5&amp;cad=rja&amp;ved=0CGEQFjAE&amp;url=http%3A%2F%2Fpdos.csail.mit.edu%2Frtm%2Fslides%2Fsigcomm01.ppt&amp;ei=tYLAUNjmLoSt0AGb7YCoBw&amp;usg=AFQjCNHmlld_WDglWjj7TP_coYsk1O_l-A&amp;sig2=SO8yiWfEsi_V2VEI-F2pmw">slides</a></p>

<h3>1. Problem</h3>

<p><em>A lookup protocol</em>: How to locate the node that stores a data item in a dynamic P2P system with frequent node arrivals and departures? In other words, given a key, it maps the key onto a node.</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/12/06/chord/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/12/01/cells/">Cells: A Virtual Mobile Smartphone Architecture (SOSP &#8216;11)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-12-01T19:52:00-05:00" pubdate data-updated="true">Dec 1<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://systems.cs.columbia.edu/archive/pub/2011/10/cells-a-virtual-mobile-smartphone-architecture/">Columbia University</a>, <a href="http://www.sigops.org/sosp/sosp11/current/2011-Cascais/printable/13-andrus.pdf">papers</a>, <a href="http://www.sigops.org/sosp/sosp11/current/2011-Cascais/13-andrus-slides.pdf">slides</a>, <a href="http://www.youtube.com/watch?v=XBBJ8873vqE">video</a></p>

<h3>1. Problem</h3>

<p>The popularity of smartphones results in the need that a user may purchase several smartphones for different uses. Virtual machine (VM) mechanisms may be the solution, which enables separate and isolated instances of a smartphone software stack to run on the same ARM hardware.</p>

<h3>2. Challenges</h3>

<p>Traditional VMs for desktops and servers can not be applied to smartphones for</p>

<ol>
<li>limited resources can not fully support running an another entire OS</li>
<li>existing design cannot leverage new devices, such as GPS, camera, GPUs, &#8230;</li>
</ol>


<h3>3. Solution</h3>

<p>Key observation: <strong>one app at a time</strong></p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/12/01/cells/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/11/27/wang-gong-quan-jiang-zuo/">王功权先生给年轻人的四点建议</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-27T16:34:00-05:00" pubdate data-updated="true">Nov 27<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><h3>概述</h3>

<p>方才在和朋友们一起去管理学院参加了王功权先生的讲座，期间做了一些笔记，稍作整理记录在此。王功权先生似乎并没有为这次演讲做过多的准备，也不愿意表现地太过正式，毕竟谈人生这种事情，还是需要明月夜短松冈这种微醺的情怀的。实际的情况可能是，他在从哥伦比亚大学过来的路上稍微用iPhone写了个提纲，讲述之前看了几眼，便开始侃侃而谈，当然，情到深处之时，还是让人颇有触动的，不愧为一位诗人。以下的记录纯属个人笔记，有我个人理解的偏差，并不能确保准确地反映王功权先生的观点，也不反映我自己的观点。</p>

<p>他讲述的这四点建议分别是：</p>

<ol>
<li>规划未来不如调整现在</li>
<li>志存高远</li>
<li>选择意味着放弃</li>
<li>在美国就业，在中国创业</li>
</ol>


<p>在其后的问答环节中，他回答同学们提出的两个问题：</p>

<ol>
<li>简要介绍您现在在哥伦比亚大学东亚研究所研究的“公民社会”这一议题？</li>
<li>对经济管理类毕业生就业领域选择有那些建议？</li>
</ol>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/11/27/wang-gong-quan-jiang-zuo/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/11/26/cryptdb/">CryptDB: Protecting Confidentiality With Encrypted Query Processing (SOSP &#8216;11)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-26T19:45:00-05:00" pubdate data-updated="true">Nov 26<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://css.csail.mit.edu/cryptdb/">MIT CSAIL</a>, <a href="http://people.csail.mit.edu/nickolai/papers/raluca-cryptdb.pdf">papers</a>, <a href="http://www.sigops.org/sosp/sosp11/current/2011-Cascais/07-popa.pptx">slides</a></p>

<h3>1. Problem</h3>

<p>Provide confidentiality for applications using DBMSes to solve two threats:</p>

<ol>
<li><em>Passive DB server attacks</em>. The curious database administrator (DBA) learns private data.</li>
<li><em>Any attacks on all servers</em>. The adversary gains complete control over application and DBMS servers.</li>
</ol>


</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/11/26/cryptdb/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/11/21/ru-he-yue-du-%5B%3F%5D-pian-lun-wen-%3F/">如何阅读一篇论文？</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-21T16:15:00-05:00" pubdate data-updated="true">Nov 21<span>st</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p>阅读是人生的终极命题之一。人生苦短，我们需要阅读来继承前人的衣钵，我们需要笔记来对抗过往的遗忘，我们需要写作来连接自我和人世沧桑。</p>

<p>那么，<a href="http://blizzard.cs.uwaterloo.ca/keshav/home/Papers/data/07/paper-reading.pdf">如何最高效地阅读一篇论文呢？</a></p>

<p>如同任何一个学习过程，读论文的周期显然是螺旋向上的，可以划分为简单的三板斧：</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/11/21/ru-he-yue-du-%5B%3F%5D-pian-lun-wen-%3F/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/11/20/hadoopdb-an-architectural-hybrid-of-mapreduce-and-dbms-technologies-for-analytical-workloads-vldb-09/">HadoopDB: An Architectural Hybrid of MapReduce and DBMS Technologies for Analytical Workloads (VLDB &#8216;09)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-20T16:20:00-05:00" pubdate data-updated="true">Nov 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://db.cs.yale.edu/hadoopdb/">Yale DB</a></p>

<h3>1. Problem</h3>

<p>Large analytical data management (OLAP) with commodity clusters</p>

<h3>2. Challenges</h3>

<ul>
<li>Performance and efficiency

<ul>
<li>hadoop

<ul>
<li>is not for structured data analysis</li>
<li>scale well</li>
<li>open source, without cost</li>
</ul>
</li>
</ul>
</li>
<li>scalability, fault-tolerance, and flexibility

<ul>
<li>Previous parallel db fit into tens of nodes, not thousand of nodes.</li>
<li>not scale well for failures, heterogeneous machines, performance untested</li>
</ul>
</li>
</ul>


<h3>3. Solutions</h3>

<ul>
<li>MapReduce (Hadoop) + parallel db (or single-node DBs) = HadoopDB</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/11/20/hadoopdb-an-architectural-hybrid-of-mapreduce-and-dbms-technologies-for-analytical-workloads-vldb-09/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  
    <article>
      
  <header class="page-header">
    
      <h1 class="entry-title"><a href="/blog/2012/11/20/reliable-client-accounting-for-p2p-infrastructure-hybrids-nsdi-12/">Reliable Client Accounting for P2P-Infrastructure Hybrids (NSDI &#8216;12)</a></h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-11-20T16:16:00-05:00" pubdate data-updated="true">Nov 20<span>th</span>, 2012</time>
        
      </p>
    
  </header>


  <div class="entry-content"><p><a href="http://www.mpi-sws.org/~paditya/">MPI-SWS</a>, UPenn, Duke, Akamai, <a href="http://www.mpi-sws.org/~paditya/papers/rca-nsdi2012.pdf">paper</a>, <a href="https://www.usenix.org/sites/default/files/conference/protected-files/nsdi12_reliable_client_accounting_for_p2p-infrastructure_hybrids.pdf">slides</a>, <a href="https://www.usenix.org/conference/nsdi12/reliable-client-accounting-hybrid-content-distribution-networks">video</a></p>

<h2>1. Problems</h2>

<p>Hybrid (Servers with assisting peers) designs in CDNs -> malicious clients can cause significant accounting inaccuracies.</p>

<h2>2. Challenges</h2>

<p>Infrastructure can not control P2P communications by malicious clients (peers). Even if infrastructure provides signed metadata and fallback (so content can not be mishandled by peers), there are still:</p>

<ul>
<li>Affect service quality</li>
<li>Misreport P2P transfers</li>
</ul>


<p>For example, inflation attack occurred for a fake download report.</p>

<h2>3. Solutions</h2>

<p>Reliable Client Accounting (RCA)</p>

</div>
  
  
    <footer>
      <a rel="full-article" href="/blog/2012/11/20/reliable-client-accounting-for-p2p-infrastructure-hybrids-nsdi-12/">Read on &rarr;</a>
    </footer>
  


    </article>
  
  <ul class="pager">
    
    <li class="previous"><a href="/blog/page/3/">&larr; Older</a></li>
    
    <li><a href="/blog/archives">Blog Archives</a></li>
    
    <li class="next"><a href="/">Newer &rarr;</a></li>
    
  </ul>
</div>
<aside class="sidebar-nav span3">
  
    <section class="well">
  <img src="http://www.puncsky.com/puncsky-gray.png" alt="puncsky" style="max-width:100%;">
  <h3>Puncsky</h3>
  <p>Who strives on and lives to strive~</p>
</section>
<section class="well">
  <ul id="recent_posts" class="nav nav-list">
    <li class="nav-header">Recent Posts</li>
    
      <li class="post">
        <a href="/blog/2013/04/06/dynamo-kv-store/">Dynamo: Amazon&#8217;s Highly Available Key-value Store (SOSP&#8217;07)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/30/zhuan-numbers-everyone-should-know/">[Repost] Numbers everyone should know</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/27/hadoopdb-vldb-09/">HadoopDB (VLDB&#8217;09)</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/14/gc-garbage-collection-in-java/">GC(Garbage Collection) in Java</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/01/08/clrs-2-advanced/">CLRS 2: Advanced</a>
      </li>
    
  </ul>
</section>






  
</aside>

    </div>
  </div>
  <footer role="contentinfo" class="page-footer"><hr>
<p>
  Copyright &copy; 2013 - Tian -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
